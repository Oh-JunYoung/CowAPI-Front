echo "---build start---"

node {
    stage('Clone') {
        echo '>>> Git repository Clone'
        git branch: 'main', credentialsId: 'qawesdxc@naver.com' , url: "https://github.com/Oh-JunYoung/CowAPI-Front.git"
    }

    stage('Move to Path') {
        echo '>>> Move to Deploy Path'
        sh 'sudo ./jenkins/MovePath.sh'
    }

    stage('Pull') {
        echo '>>> Git repository Clone'
        sh 'sudo ./jenkins/GitPull.sh'
    }

    stage('Build') {
        echo '>>> Gradle project Build'
        sh 'sudo ./jenkins/Build.sh'
    }

    stage('Nginx') {
        echo '>>> Gradle project Deploy'
        sh 'sudo ./jenkins/Nginx.sh'
    }
}